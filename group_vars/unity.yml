appdata_path: "/home/{{ main_username }}/docker"
containers:
  ###
  - service_name: rtl433
    container_name: rtl433
    active: true
    image: hertzg/rtl_433:master
    restart: always
    labels:
      - "diun.enable=true"
      - "diun.regopt=docker.io"
    command:
      - '-Fmqtt://192.168.30.12:1883,user=homeassistant,pass={{ secret_mqtt_pass }},retain=1,devices=rtl_433[/model][/id]'
      - '-Csi'
      - '-R40'
      - '-R41'
      - '-X n=digoo,m=OOK_PWM,bits=>24,s=464,l=1404,r=1800,t=200,get=@0:{20}:id,get=@20:{4}:event:[2:LOW_BATTERY 6:CLOSE 12:OPEN],unique'
    devices:
      - /dev/rtl433:/dev/bus/usb/001/013
    include_global_env_vars: false
  ###
  - service_name: zwavejs
    container_name: zwavejs
    active: true
    image: zwavejs/zwave-js-ui:8.3.0
    restart: always
    ports:
      - 8091:8091
      - 3001:3000
    volumes:
      - "{{ appdata_path }}/zwavejs:/usr/src/app/store"
    devices:
      - /dev/zwave:/dev/zwave
    environment:
      - TZ={{ ntp_timezone }}
    include_global_env_vars: false
  ###
  - service_name: zigbee2mqtt
    container_name: zigbee2mqtt
    active: true
    image: koenkk/zigbee2mqtt:1.28.2
    restart: always
    ports:
      - 8080:8080
    devices:
      - /dev/conbee:/dev/conbee
    volumes:
      - "{{ appdata_path }}/zigbee2mqtt:/app/data"
      - /run/udev:/run/udev:ro
    environment:
      - TZ={{ ntp_timezone }}
    include_global_env_vars: false